<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>WiFi Money — Master Professional Trading</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&family=Poppins:wght@600;700,800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0f1112;
    --accent:#d9b14b;
    --accent-dark:#b88f33;
    --muted:#a6b0b4;
    --card:#0d0e0f;
    --glass: rgba(255,255,255,0.02);
    --glow-strong: 0 30px 80px rgba(217,177,75,0.16);
    --glow-soft: 0 14px 40px rgba(217,177,75,0.08);
    --radius:16px;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial;background:linear-gradient(180deg,#0b0c0d 0%, #0f1112 100%);color:#fff; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; overflow-x:hidden}

  .container{max-width:1200px;margin:0 auto;padding:0 6%;position:relative;z-index:2}

  /* Grid bg */
  .grid-bg{position:fixed;inset:0;z-index:0;pointer-events:none;background-image:linear-gradient(0deg, rgba(255,255,255,0.02) 1px, transparent 1px),linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);background-size:80px 80px;opacity:.08}

  /* ---------- HERO ---------- */
  header.hero{padding:64px 0 20px}
  .hero-inner{display:flex;gap:36px;align-items:flex-start;flex-wrap:wrap}
  .left{flex:1 1 640px;min-width:260px}
  .right{flex:0 0 460px;min-width:260px;display:flex;justify-content:center;align-items:flex-start}

  .logo-wrap{display:flex;gap:12px;align-items:center;margin-bottom:12px}
  .logo{width:68px;height:68px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,0.04)}
  .logo svg{width:40px;height:40px;fill:var(--accent)}

  .badge{font-family:Poppins,Inter;color:var(--accent);padding:6px 12px;border-radius:20px;font-weight:700;font-size:13px;border:1px solid rgba(217,177,75,0.08)}

  .hero-h{font-family:Poppins,Inter;font-weight:900;font-size:56px;line-height:1;margin:6px 0 12px;animation:fadeUp .6s .08s both}
  .hero-h .gold{color:var(--accent)}
  .sub{color:var(--muted);max-width:760px;font-size:16px;line-height:1.6;margin-bottom:22px;opacity:.95;animation:fadeUp .6s .14s both}

  .cta-row{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:18px}
  .btn{display:inline-flex;align-items:center;gap:10px;padding:12px 20px;border-radius:44px;font-weight:800;cursor:pointer;text-decoration:none;border:none;transform:translateZ(0);transition:transform .25s ease,box-shadow .25s ease}
  .btn-cta{background:linear-gradient(180deg,var(--accent),var(--accent-dark));color:#111;box-shadow:var(--glow-soft)}
  .btn-ghost{background:transparent;color:var(--accent);border:2px solid rgba(217,177,75,0.12)}

  /* Right preview card — bigger animated shadow and floating */
  .preview-card{
    width:420px;max-width:92%;border-radius:20px;padding:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(217,177,75,0.06);
    box-shadow:var(--glow-strong);transform:translateY(0);transition:transform .45s cubic-bezier(.2,.9,.2,1);
    position:relative;overflow:hidden
  }
  .preview-thumb{height:260px;border-radius:12px;background:#0c0d0e;display:flex;align-items:center;justify-content:center;color:#ddd;font-weight:800}
  .preview-play{width:76px;height:76px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,var(--accent),var(--accent-dark));color:#111;font-weight:900;font-size:20px;box-shadow:0 18px 50px rgba(217,177,75,0.16)}
  .preview-meta{margin-top:12px;color:var(--muted);font-size:13px;text-align:center}

  /* accent boxes with stronger glow/shadow (as requested) */
  .card-strong {
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:14px;
    border:1px solid rgba(217,177,75,0.06);
    box-shadow: 0 36px 80px rgba(217,177,75,0.18), 0 12px 30px rgba(217,177,75,0.08);
    transition:transform .28s,box-shadow .28s;
  }
  .card-strong:hover{transform:translateY(-10px)}

  /* ---------- STATS with count up ---------- */
  .stats{display:flex;gap:26px;align-items:center;margin-top:10px;flex-wrap:wrap}
  .stat{min-width:120px;text-align:center;padding:14px;border-radius:12px}
  .stat .num{color:var(--accent);font-weight:900;font-size:34px;display:block}
  .stat .label{color:var(--muted);font-size:13px;margin-top:6px}

  /* ---------- FEATURES / BOOTCAMP / BONUSES ---------- */
  .features-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:24px;margin-top:22px}
  .feature-card{padding:24px;text-align:center}
  .icon-circle{width:64px;height:64px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 12px;background:radial-gradient(circle at 30% 30%,var(--accent),#b98d24)}
  .feature-card h3{font-size:18px;margin:6px 0}
  .feature-card p{color:#cfcfcf;font-size:14px;line-height:1.6}

  .bootcamp-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-top:14px}
  .day-card{padding:18px;min-height:200px;border-radius:12px}
  .day-pill{position:relative;display:inline-block;background:var(--card);padding:6px 12px;border-radius:20px;font-weight:800;color:var(--accent);border:1px solid rgba(217,177,75,0.12);margin-bottom:8px}

  .bonus-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-top:14px}
  .bonus-card{padding:18px;border-radius:12px;text-align:center}

  /* ---------- PRICING ---------- */
  .pricing-wrap{padding:24px;text-align:center;border-radius:14px}

  /* ---------- LEAD / FORM ---------- */
  .lead-section{display:grid;grid-template-columns:1fr 440px;gap:28px;align-items:start;padding:40px 0}
  @media(max-width:980px){ .lead-section{grid-template-columns:1fr} .lead-right{order:2} .lead-left{order:1} }
  .lead-form{padding:22px;border-radius:14px;border:1px solid rgba(217,177,75,0.06);box-shadow:0 26px 60px rgba(0,0,0,0.6);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))}
  .lead-form label{display:block;color:var(--muted);font-size:13px;margin-bottom:8px}
  .lead-form input[type="text"], .lead-form input[type="email"], .lead-form input[type="tel"]{width:100%;padding:12px 14px;border-radius:10px;border:1px solid rgba(217,177,75,0.12);background:transparent;color:#fff;font-size:14px;margin-bottom:10px}

  .radio-group label{display:flex;align-items:center;gap:8px;color:var(--muted);margin-bottom:6px}
  .radio-group input{accent-color:var(--accent)}

  .submit-row{display:flex;gap:10px}
  .submit-btn{flex:1;padding:12px 14px;border-radius:40px;background:linear-gradient(180deg,var(--accent),var(--accent-dark));border:none;color:#111;font-weight:800;cursor:pointer;box-shadow:0 18px 46px rgba(217,177,75,0.12)}
  .call-btn{padding:10px 14px;border-radius:12px;border:2px solid rgba(217,177,75,0.12);background:transparent;color:var(--accent);display:inline-flex;align-items:center;gap:8px;text-decoration:none}

  .note{color:var(--muted);font-size:13px;margin-top:10px}

  /* ---------- FAQ (stacking sticky headers + animated panels) ---------- */
  .faq-section{padding:40px 0 100px}
  .faq-wrap{max-width:1000px;margin:0 auto;padding:0 6%}
  .accordion-item{margin-bottom:12px;position:relative}
  .accordion-header{
    display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px 18px;cursor:pointer;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.01));border:1px solid rgba(217,177,75,0.06);border-radius:12px;position:relative;z-index:1;transition:transform .22s,box-shadow .22s;
  }
  /* sticky headers inside the faq-wrap for stacking effect */
  .accordion-header.sticky { position:-webkit-sticky; position:sticky; top:0; }
  .accordion-header.card-sticky { box-shadow:var(--glow-soft); background:linear-gradient(180deg, rgba(12,12,12,0.98), rgba(10,10,10,0.96)); }

  .q-text{font-weight:800;color:var(--accent);font-size:16px}
  .icon-round{width:38px;height:38px;border-radius:999px;display:flex;align-items:center;justify-content:center;border:2px solid rgba(217,177,75,0.18);color:var(--accent);font-weight:900;background:linear-gradient(180deg,#101010,#0b0b0b)}
  .panel{background:linear-gradient(180deg, rgba(217,177,75,0.01), transparent);padding:0 18px;border-left:3px solid rgba(217,177,75,0.06);border-right:3px solid rgba(217,177,75,0.02);overflow:hidden;border-radius:0 0 12px 12px}
  .panel-inner{padding:14px 0;color:#dcd8c7;line-height:1.7}

  .panel-collapsed{max-height:0;transition:max-height .36s cubic-bezier(.2,.9,.2,1);overflow:hidden}
  .panel-open{transition:max-height .36s cubic-bezier(.2,.9,.2,1);overflow:hidden}

  /* ---------- util & animation ---------- */
  @keyframes fadeUp{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:none}}
  .fade-in{opacity:0;transform:translateY(10px);animation:fadeUp .6s .08s both}

  /* responsive */
  @media(max-width:1100px){ .features-grid{grid-template-columns:repeat(2,1fr)} .bootcamp-grid{grid-template-columns:repeat(2,1fr)} .bonus-grid{grid-template-columns:repeat(2,1fr)} .hero-h{font-size:46px} }
  @media(max-width:800px){ .hero-inner{flex-direction:column} .right{order:2;width:100%;margin-top:18px} .hero-h{font-size:34px} .lead-section{grid-template-columns:1fr} .preview-card{width:100%} }
  @media(max-width:480px){ .hero-h{font-size:26px} .stat .num{font-size:22px} .accordion-header{padding:12px} .lead-form{padding:16px} }

  /* remove anchor default focus outline and replace with custom */
  :focus{outline:none}
  .focus-ring{box-shadow:0 0 0 4px rgba(217,177,75,0.12);border-radius:8px}
</style>
</head>
<body>

<div class="grid-bg" aria-hidden="true"></div>

<div class="container">

  <!-- HERO -->
  <header class="hero" role="banner">
    <div class="hero-inner">
      <div class="left">
        <div class="logo-wrap">
          <div class="logo" aria-hidden="true">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 3c3.866 0 7.1 1.866 9.001 4.712l-1.6 1.1C18.9 6.7 15.7 5 12 5S5.1 6.7 4.599 8.812L3 7.7C4.901 4.866 8.134 3 12 3z"/></svg>
          </div>
          <div style="display:flex;flex-direction:column;">
            <div class="badge">#1 Trading Course 2025</div>
            <div style="color:var(--muted);font-size:13px;margin-top:6px">WIFI MONEY</div>
          </div>
        </div>

        <h1 class="hero-h">Master <span class="gold">Professional Trading</span><br/>Build Wealth from Anywhere</h1>
        <p class="sub">Transform from beginner to profitable trader with our practical trading system and mentorship by <strong>Rukyya Mam</strong>.</p>

        <div class="cta-row">
          <button class="btn btn-cta" id="hero-enroll" data-src="enroll">🎓 ENROLL IN COURSE</button>
          <button class="btn btn-ghost" id="hero-curr" data-src="curriculum">▶ VIEW CURRICULUM</button>
        </div>

        <div class="stats" aria-hidden="true" style="margin-top:22px">
          <div class="stat card-strong">
            <span class="num" data-target="15000" data-duration="1400">0</span>
            <span class="label">Students Enrolled</span>
          </div>
          <div class="stat card-strong">
            <span class="num" data-target="4.9" data-decimals="1" data-duration="1200">0</span>
            <span class="label">Course Rating</span>
          </div>
          <div class="stat card-strong">
            <span class="num" data-target="89" data-duration="1200">0</span>
            <span class="label">Success Rate (%)</span>
          </div>
        </div>
      </div>

      <div class="right">
        <div class="preview-card fade-in" id="previewCard" role="img" aria-label="Course preview">
          <div class="preview-thumb" id="previewThumb">
            Preview Video Thumbnail
          </div>
          <div style="display:flex;align-items:center;justify-content:center;margin-top:12px;gap:12px">
            <div class="preview-play" aria-hidden="true">▶</div>
            <div class="preview-meta">12 modules • Live trading sessions • Proven strategies</div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- FEATURES -->
  <section style="padding:32px 0">
    <div class="features-grid">
      <div class="feature-card card-strong">
        <div class="icon-circle"><svg viewBox="0 0 24 24" width="28" height="28"><path d="M4 5h16v2H4zM4 10h16v2H4zM4 15h10v2H4z"/></svg></div>
        <h3>Professional Strategies</h3>
        <p>Learn institutional setups, high-probability entries and exit rules.</p>
      </div>
      <div class="feature-card card-strong">
        <div class="icon-circle"><svg viewBox="0 0 24 24" width="28" height="28"><path d="M12 2l8 4v6c0 5-3.8 9.7-8 10-4.2-.3-8-5-8-10V6l8-4z"/></svg></div>
        <h3>Risk Management</h3>
        <p>Position sizing, stop logic and capital protection — trade without fear.</p>
      </div>
      <div class="feature-card card-strong">
        <div class="icon-circle"><svg viewBox="0 0 24 24" width="28" height="28"><path d="M12 2a7 7 0 017 7c0 3.3-2.1 6.1-5 7v6h-4v-6c-2.9-.9-5-3.7-5-7a7 7 0 017-7z"/></svg></div>
        <h3>Trading Psychology</h3>
        <p>Emotional control, routines and processes to execute perfectly.</p>
      </div>
    </div>
  </section>

  <!-- BOOTCAMP -->
  <section style="padding:20px 0">
    <h2 style="color:var(--accent);margin-bottom:12px">7-Day Intensive Bootcamp</h2>
    <div class="bootcamp-grid">
      <div class="day-card card-strong">
        <div class="day-pill">Day 1</div>
        <h4 style="margin-top:18px">Foundation & Market Basics</h4>
        <ul style="color:#d1d1d1;margin-top:8px">
          <li>Market structure & demo setup</li>
          <li>Trading mindset</li>
        </ul>
      </div>
      <div class="day-card card-strong">
        <div class="day-pill">Day 2</div>
        <h4 style="margin-top:18px">Core Concepts</h4>
        <ul style="color:#d1d1d1;margin-top:8px">
          <li>Leverage, lot sizing, risk</li>
        </ul>
      </div>
      <div class="day-card card-strong">
        <div class="day-pill">Day 3</div>
        <h4 style="margin-top:18px">Live Platform</h4>
        <ul style="color:#d1d1d1;margin-top:8px">
          <li>Orders, stops, live demo</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- BONUSES & PRICING -->
  <section style="padding:20px 0">
    <h2 style="color:var(--accent);margin-bottom:8px">Bonuses</h2>
    <div class="bonus-grid">
      <div class="bonus-card card-strong">
        <h4>Strategy Templates</h4>
        <p style="color:#d1d1d1">Plug-and-play setups for instant implementation.</p>
      </div>
      <div class="bonus-card card-strong">
        <h4>Demo Setup Help</h4>
        <p style="color:#d1d1d1">We help configure your demo account step-by-step.</p>
      </div>
      <div class="bonus-card card-strong">
        <h4>Lifetime Community</h4>
        <p style="color:#d1d1d1">Ongoing support & monthly live Q&A sessions.</p>
      </div>
    </div>

    <div style="text-align:center;margin-top:18px">
      <div class="pricing-wrap card-strong" style="display:inline-block;padding:20px 26px">
        <div style="font-weight:900;color:var(--accent);font-size:20px;margin-bottom:6px">LIMITED OFFER</div>
        <div style="font-size:36px;font-weight:900;color:var(--accent)">₹499</div>
        <div style="color:#d1d1d1;margin-top:6px">Complete course + lifetime access</div>
        <div style="margin-top:12px">
          <button id="pricing-enroll" class="btn btn-cta">🎓 ENROLL NOW</button>
        </div>
      </div>
    </div>
  </section>

  <!-- LEAD / FORM SECTION -->
  <section class="lead-section" id="lead-form" aria-labelledby="lead-h">
    <div class="lead-left">
      <div style="margin-bottom:6px"><div class="badge">#1 Trading Course 2025</div></div>
      <h2 id="lead-h" style="font-size:30px;margin:8px 0">Ready to Transform Your <span class="gold">Financial Future?</span></h2>
      <p class="sub">Mentorship by <strong>Rukyya Mam</strong> included. Fill the quick form to connect directly via WhatsApp to <strong>+91 72499 60757</strong>.</p>

      <div style="margin-top:14px">
        <button class="btn btn-cta" id="cta-enroll" data-source="enroll" type="button">ENROLL NOW</button>
        <button class="btn btn-ghost" id="cta-callback" data-source="callback" type="button">BOOK CALLBACK</button>
        <span id="cta-badge" style="display:none;margin-left:10px;background:rgba(217,177,75,0.06);padding:6px 10px;border-radius:12px;color:var(--accent);font-weight:800">Selected: <span id="cta-selected"></span></span>
      </div>
    </div>

    <div class="lead-right">
      <form id="leadForm" class="lead-form" autocomplete="off" novalidate>
        <h3 style="margin:0 0 10px;color:var(--accent);font-family:Poppins,Inter">Secure Your Spot — Quick Form</h3>

        <div style="display:flex;gap:8px;margin-bottom:8px">
          <div style="flex:1">
            <label for="l_fname">First Name *</label>
            <input id="l_fname" name="firstName" type="text" placeholder="First Name" required />
          </div>
          <div style="flex:1">
            <label for="l_lname">Last Name *</label>
            <input id="l_lname" name="lastName" type="text" placeholder="Last Name" required />
          </div>
        </div>

        <label for="l_phone">Phone *</label>
        <input id="l_phone" name="phone" type="tel" placeholder="9876543210" required inputmode="tel" />

        <label for="l_email">Email *</label>
        <input id="l_email" name="email" type="email" placeholder="name@example.com" required />

        <div class="radio-group" role="radiogroup" aria-label="Currently trading?">
          <div style="font-weight:700;margin-bottom:6px;color:var(--muted)">Are you currently trading?</div>
          <label><input type="radio" name="trading" value="Yes"> Yes</label>
          <label><input type="radio" name="trading" value="No" checked> No</label>
        </div>

        <input type="hidden" name="mentor" value="Rukyya Mam">
        <input type="hidden" name="source" id="lead-source" value="direct">

        <div style="display:flex;gap:8px;align-items:center">
          <button type="submit" id="leadSubmit" class="submit-btn">ENROLL NOW - SAVE ₹9500/-</button>
          <a class="call-btn" id="leadCall" href="tel:+917249960757">📞 Call</a>
        </div>

        <div class="note">After submit you'll be redirected to WhatsApp to message <strong>Rukyya Mam</strong> at <strong>+91 72499 60757</strong>.</div>

        <div class="success" id="leadSuccess" role="status" aria-live="polite" style="display:none;margin-top:12px">
          <p id="leadSuccessText">We opened WhatsApp to complete booking — if not, use the button below.</p>
          <div style="margin-top:8px;display:flex;gap:8px;align-items:center">
            <a id="leadWhats" class="btn btn-cta" style="padding:8px 12px;border-radius:12px;color:#111;text-decoration:none;font-weight:800" href="#" target="_blank" rel="noopener">Message on WhatsApp</a>
            <a id="leadCallDirect" class="call-btn" href="tel:+917249960757">📞 Call +91 72499 60757</a>
          </div>
        </div>
      </form>
    </div>
  </section>

  <!-- FAQ -->
  <section class="faq-section" aria-labelledby="faq-h">
    <h2 id="faq-h" style="text-align:center;color:var(--accent);margin-bottom:18px">Frequently Asked Questions</h2>
    <div class="faq-wrap" id="faqWrap" role="list">
      <div class="accordion-item" role="listitem" aria-expanded="true">
        <div class="accordion-header sticky card-strong" role="button" tabindex="0" aria-controls="panel1" aria-expanded="true">
          <div class="q-text">Do I need prior trading experience to enroll?</div>
          <div class="icon-round" aria-hidden="true">−</div>
        </div>
        <div id="panel1" class="panel panel-open" aria-hidden="false">
          <div class="panel-inner">
            <p>No prior experience required! We start from fundamentals and advance to institutional strategies. Most students begin from zero and progress step-by-step.</p>
          </div>
        </div>
      </div>

      <div class="accordion-item" role="listitem" aria-expanded="false">
        <div class="accordion-header sticky card-strong" role="button" tabindex="0" aria-controls="panel2" aria-expanded="false">
          <div class="q-text">How much capital do I need to start trading?</div>
          <div class="icon-round" aria-hidden="true">+</div>
        </div>
        <div id="panel2" class="panel panel-collapsed" aria-hidden="true">
          <div class="panel-inner">
            <p>You can learn on demo accounts and start live with $500–$1000. We teach strict risk management to protect capital.</p>
          </div>
        </div>
      </div>

      <div class="accordion-item" role="listitem" aria-expanded="false">
        <div class="accordion-header sticky card-strong" role="button" tabindex="0" aria-controls="panel3" aria-expanded="false">
          <div class="q-text">How long does the course take?</div>
          <div class="icon-round" aria-hidden="true">+</div>
        </div>
        <div id="panel3" class="panel panel-collapsed" aria-hidden="true">
          <div class="panel-inner">
            <p>Core curriculum: 6–8 weeks (1–2 hours/day). Lifetime access lets you revisit anytime.</p>
          </div>
        </div>
      </div>

      <div class="accordion-item" role="listitem" aria-expanded="false">
        <div class="accordion-header sticky card-strong" role="button" tabindex="0" aria-controls="panel4" aria-expanded="false">
          <div class="q-text">Do I get support after completion?</div>
          <div class="icon-round" aria-hidden="true">+</div>
        </div>
        <div id="panel4" class="panel panel-collapsed" aria-hidden="true">
          <div class="panel-inner">
            <p>Yes — lifetime community access, monthly Q&As and continued mentorship opportunities.</p>
          </div>
        </div>
      </div>

    </div>
  </section>

</div> <!-- container end -->

<script>
/* Respect reduced motion */
if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
  document.querySelectorAll('*').forEach(el => el.style.transition = 'none');
}

/* COUNT-UP animation (animates when visible) */
(function(){
  const nodes = document.querySelectorAll('.num[data-target]');
  if(!nodes.length) return;

  const defaultDuration = 1400;
  function easeOutCubic(t){ return 1 - Math.pow(1 - t, 3); }

  function animate(el){
    const raw = el.dataset.target;
    const decimals = parseInt(el.dataset.decimals || '0', 10);
    const duration = parseInt(el.dataset.duration || defaultDuration, 10);
    const target = parseFloat(raw);
    const start = performance.now();
    const from = 0;

    function frame(now){
      const p = Math.min((now - start) / duration, 1);
      const eased = easeOutCubic(p);
      const value = from + (target - from) * eased;
      el.textContent = (decimals ? value.toFixed(decimals) : Math.round(value)).toString();
      if(p < 1) requestAnimationFrame(frame);
    }
    requestAnimationFrame(frame);
  }

  const io = new IntersectionObserver((entries, obs) => {
    entries.forEach(entry => {
      if(entry.isIntersecting){
        animate(entry.target);
        obs.unobserve(entry.target);
      }
    });
  }, {threshold:0.6});
  nodes.forEach(n => io.observe(n));
})();

/* Accordion logic - independent toggles + sticky stacking effect */
(function(){
  const faqWrap = document.getElementById('faqWrap');
  if(!faqWrap) return;
  const items = faqWrap.querySelectorAll('.accordion-item');

  items.forEach((item, i) => {
    const header = item.querySelector('.accordion-header');
    const panel = item.querySelector('.panel');
    const inner = panel.querySelector('.panel-inner');
    const icon = header.querySelector('.icon-round');

    // initialise
    const open = item.getAttribute('aria-expanded') === 'true';
    if(open){
      panel.style.maxHeight = inner.scrollHeight + 'px';
      panel.classList.remove('panel-collapsed'); panel.classList.add('panel-open');
      panel.setAttribute('aria-hidden','false'); icon.textContent = '−';
      header.setAttribute('aria-expanded','true');
    } else {
      panel.style.maxHeight = '0px';
      panel.classList.remove('panel-open'); panel.classList.add('panel-collapsed');
      panel.setAttribute('aria-hidden','true'); icon.textContent = '+';
      header.setAttribute('aria-expanded','false');
    }

    // make header sticky class applied for visual effect (browser handles stacking)
    header.classList.add('sticky');

    function toggle(){
      const isOpen = item.getAttribute('aria-expanded') === 'true';
      if(!isOpen){
        item.setAttribute('aria-expanded','true');
        panel.classList.remove('panel-collapsed'); panel.classList.add('panel-open');
        panel.style.maxHeight = inner.scrollHeight + 'px';
        panel.setAttribute('aria-hidden','false');
        icon.textContent = '−';
        header.setAttribute('aria-expanded','true');
      } else {
        item.setAttribute('aria-expanded','false');
        panel.classList.remove('panel-open'); panel.classList.add('panel-collapsed');
        panel.style.maxHeight = '0px';
        panel.setAttribute('aria-hidden','true');
        icon.textContent = '+';
        header.setAttribute('aria-expanded','false');
      }
      // adjust stacking z-index order after toggle
      updateHeaderZ();
    }

    header.addEventListener('click', toggle);
    header.addEventListener('keydown', function(e){
      if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggle(); }
    });

    if(window.ResizeObserver && inner){
      const ro = new ResizeObserver(() => {
        if(item.getAttribute('aria-expanded') === 'true'){
          panel.style.maxHeight = inner.scrollHeight + 'px';
        }
      });
      ro.observe(inner);
    }
  });

  const headers = faqWrap.querySelectorAll('.accordion-header');
  function updateHeaderZ(){
    const wrapTop = faqWrap.getBoundingClientRect().top;
    headers.forEach((h, idx) => {
      const r = h.getBoundingClientRect();
      // if header is sticky at top, give higher z to those higher in document order so they stack nicely
      const z = (r.top <= wrapTop + 1) ? 1000 + (headers.length - idx) : 100 + idx;
      h.style.zIndex = z;
      if(r.top <= wrapTop + 1) { h.classList.add('card-sticky'); h.style.background = 'linear-gradient(180deg, rgba(12,12,12,0.98), rgba(10,10,10,0.96))'; }
      else { h.classList.remove('card-sticky'); h.style.background = 'linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.01))'; }
    });
  }

  document.addEventListener('scroll', throttle(updateHeaderZ, 30));
  window.addEventListener('resize', throttle(updateHeaderZ, 120));
  updateHeaderZ();

  function throttle(fn, wait){
    let t = 0;
    return function(...a){ const now = Date.now(); if(now - t > wait){ t = now; fn(...a); } };
  }
})();

/* HERO preview float animation */
(function(){
  const preview = document.getElementById('previewCard');
  if(!preview) return;
  let t = 0;
  function float(){
    t += 0.02;
    const y = Math.sin(t) * 6;
    preview.style.transform = `translateY(${y}px)`;
    requestAnimationFrame(float);
  }
  requestAnimationFrame(float);
})();

/* Form, CTAs, and WhatsApp integration with validation */
(function(){
  const whatsappNumber = '917249960757'; // +91 7249960757
  const heroEnroll = document.getElementById('hero-enroll');
  const heroCurr = document.getElementById('hero-curr');
  const ctaEnroll = document.getElementById('cta-enroll');
  const ctaCallback = document.getElementById('cta-callback');
  const ctaBadge = document.getElementById('cta-badge');
  const ctaSelected = document.getElementById('cta-selected');
  const leadSource = document.getElementById('lead-source');
  const leadForm = document.getElementById('leadForm');
  const leadSubmit = document.getElementById('leadSubmit');
  const leadSuccess = document.getElementById('leadSuccess');
  const leadWhats = document.getElementById('leadWhats');
  const pricingEnroll = document.getElementById('pricing-enroll');

  function scrollToForm(source){
    if(source) leadSource.value = source;
    if(ctaBadge){ ctaBadge.style.display='inline-block'; ctaSelected.textContent = source; }
    const el = document.getElementById('lead-form');
    if(el) { el.scrollIntoView({behavior:'smooth', block:'center'}); setTimeout(()=>{ const f = document.getElementById('l_fname'); if(f) f.focus(); }, 600); }
  }

  [heroEnroll, heroCurr, ctaEnroll, ctaCallback, pricingEnroll].forEach(btn=>{
    if(!btn) return;
    btn.addEventListener('click', ()=> {
      const src = btn.dataset.src || btn.dataset.source || 'cta';
      scrollToForm(src);
    });
  });

  function validate(fields){
    if(!fields.firstName || !fields.lastName) return 'Please enter full name.';
    const digits = (fields.phone || '').replace(/\D/g,'');
    if(!/^\d{10,15}$/.test(digits)) return 'Please enter a valid phone number (digits only).';
    if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(fields.email)) return 'Please enter a valid email.';
    return null;
  }

  function openWhatsAppMessage(data){
    const mentor = data.mentor || 'Rukyya Mam';
    const name = `${data.firstName} ${data.lastName}`;
    const message = `Hi ${mentor},%0A%0AI would like to enroll.%0A%0AName: ${encodeURIComponent(name)}%0APhone: ${encodeURIComponent(data.phone)}%0AEmail: ${encodeURIComponent(data.email)}%0ACurrently trading: ${encodeURIComponent(data.trading)}%0ASource: ${encodeURIComponent(data.source)}%0A%0APlease contact me to proceed.`;
    const waUrl = `https://wa.me/${whatsappNumber}?text=${message}`;
    window.open(waUrl, '_blank');
    if(leadWhats) leadWhats.href = waUrl;
    if(leadSuccess) leadSuccess.style.display = 'block';
  }

  if(leadForm){
    leadForm.addEventListener('submit', function(ev){
      ev.preventDefault();
      const fd = new FormData(leadForm);
      const data = {
        firstName: (fd.get('firstName') || '').trim(),
        lastName: (fd.get('lastName') || '').trim(),
        phone: (fd.get('phone') || '').trim(),
        email: (fd.get('email') || '').trim(),
        trading: fd.get('trading') || 'No',
        mentor: fd.get('mentor') || 'Rukyya Mam',
        source: fd.get('source') || 'direct'
      };
      const err = validate(data);
      if(err){ alert(err); return; }
      const old = leadSubmit.innerHTML;
      leadSubmit.disabled = true;
      leadSubmit.innerHTML = 'Opening WhatsApp...';
      setTimeout(()=>{ openWhatsAppMessage(data); leadSubmit.disabled = false; leadSubmit.innerHTML = old; }, 700);
    });
  }

  // ensure tel links have correct format
  document.querySelectorAll('a[href^="tel:"]').forEach(a => a.href = 'tel:+917249960757');

  // Accessibility: keyboard open for CTAs
  [heroEnroll, heroCurr, ctaEnroll, ctaCallback, pricingEnroll].forEach(btn=>{
    if(!btn) return;
    btn.addEventListener('keydown', function(e){
      if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); btn.click(); }
    });
  });
})();

/* small throttle helper included earlier */
function throttle(fn, wait){
  let t = 0;
  return function(...a){ const now = Date.now(); if(now - t > wait){ t = now; fn(...a); } };
}
</script>

</body>
</html>
